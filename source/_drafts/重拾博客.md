---
title: 重拾博客
toc: true
comments: true
date: 2021-09-19 21:50:30
categories:
tags:
photos:
---

<!--more-->


## 原因


## 升级Hexo

1. 修改 `package.json` 将默认依赖全部升级到了最新版本

![http://lion1ou-upyun.test.upcdn.net/Snipaste_2021-09-19_21-53-18.png](http://lion1ou-upyun.test.upcdn.net/Snipaste_2021-09-19_21-53-18.png)

2. 根据官网完完整整的修改了一遍config

> 这里就不展开了，官网有非常详细的说明，比之前完善了不少。 地址在这：[https://hexo.io/zh-cn/docs/configuration](https://hexo.io/zh-cn/docs/configuration)

3. 整理原来使用的插件和大家都在用的hexo插件

* 字数统计： https://github.com/willin/hexo-wordcount

> 在文章中显示文章字数、阅读时长信息

```bash
npm i --save hexo-wordcount
```

```yml
postInfo:
  date: true
  update: false
  wordCount: false # 设置文章字数统计为 true.
  totalCount: false # 设置站点文章总字数统计为 true.
  min2read: false # 阅读时长.
  readCount: false # 阅读次数.
```

如果是使用现成的主题，只需要配置对应的config就会好了，如果是自己搞主题，就根据readme，想好添加到那个地方吧。

```js
// 字数统计 WordCount
wordcount(post.content)

// 阅读时长预计 Min2Read
min2read(post.content)

// 设置阅读速度 Set Reading Speed: (p.s. (v3.0.0 added))
min2read(post.content, {cn: 300, en: 160})

// 总字数统计 TotalCount
totalcount(site)
```

* 添加 RSS 订阅支持 https://github.com/hexojs/hexo-generator-feed

> 感觉RSS订阅应该是博客最标志性功能之一吧，这个还是要加上的

```bash
npm install hexo-generator-feed --save
```

```yml
feed:
  enable: true
  type: 
    - atom
    - rss2
  path:
    - atom.xml
    - rss2.xml
  limit: 10
  hub:
  content:
  content_limit: 140
  content_limit_delim: ' '
  order_by: -date
  icon: icon.png
  autodiscovery: true
  template:
```

* 生成网站地图


```bash
npm install hexo-generator-sitemap --save     
```

```yml
sitemap:
  path: sitemap.xml
  template: ./sitemap_template.xml
  rel: false
  tags: true
  categories: true
```

可用于提交给百度

```bash 
npm install hexo-generator-baidu-sitemap --save
```

```
baidusitemap:
  path: baidusitemap.xml
```

## 查看数据（google analysis）

* 页面访问量数据

* 站点来源数据

* 页面停留时间数据

## 迁移域名

* 新域名备案

* 老域名续费

* 老域名重定向到新

  * 新建一个github帐号
  * 使用github page，index.html和404.md，来做重定向
  * https://github.com/chuyunt/chuyunt.github.io

* 修改github page配置

## 自建主题