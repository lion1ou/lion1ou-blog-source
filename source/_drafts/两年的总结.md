---
title: 两年的总结
toc: true
comments: true
categories: 技术博客
tags: Default
date: 2019-06-16 22:53:36
photos:
description:
---



您好，我叫罗德忠，15年本科毕业，目前从事前端工作将近四年。目前为止就职过两家单位，一家是硬件公司，主要负责开发维护两个cordova 的hybrid APP，与公司自主研发的蓝牙芯片做交互，实现环境检测和展馆导览功能。另一家就是乐刻运动，主要负责乐刻商家业务线的前端开发，开发维护教练端APP、私教M站、私教运营活动等商业模块，技术栈以Vue为主，中间还做过react-native, antd后台开发, 前端性能优化等，平时空闲时间，也会学习一些新知识做一些平时在工作中没有做过的技术，最近在做一个koa+nuxt+antd的博客网站。

## 公司项目：

* 电商业务，在有赞基础上做壳，搭建乐刻商城和官网、门店触摸屏、招商平台等页面
* 用户端M站，3.0大版本开发任务
* 负责教练端项目，正在开发离线包功能阶段、教练端业务需求开发
* 开始划分业务线，负责商家业务线，主要负责教练端需求开发，教练RN化项目推进
* 开始做前端页面加载优化，教练端体验升级优化
* RN组件库开发
* 私教业务跟进、开始负责私教全业务，用户端和教练端
* 前端组件库和工具库统一
* 商家部分antd后台开发
* 商品改造后台需求开发


## 个人项目

* nuxt+vue+koa2+mongoDB+Antd   茶叶资讯网站（产品上的尝试，说一些产品上的想法，了解一些部署相关知识）
* hexo+github page   个人博客


## 准备

* 基础部分
* 框架部分
* 业务部分
* 性能优化
* 常见算法

## 项目总结

#### 前端性能优化

> 前端页面加载速度的优化，提升用户体验（vueg） 主要做了几点：

1. 网络方面
  1. 按需加载外部依赖文件，通过动态添加script标签的方式
  2. 修改路由引用方式，实现路由懒加载
  3. 减少页面重定向，对站内打点做统一处理，使用utm形式
  4. 静态资源使用cdn来存储
  5. 因为同一时刻对同一域名的下载量是有限制的，所以使用多个域名存放静态资源，可以增大页面加载资源的并行下载数
  6. 使用不同域名还可以隔离cookie
  7. DNS 预解析，提前获取静态资源服务器IP

2. 数据请求方面
  1. 添加页面初始化数据，避免接口数据还没返回时，页面空白
  2. 使用node聚合前端接口请求，避免接口请求数
  3. 数据懒加载

3. 图片
  1. 利用七牛的图片压缩能力，封装共有方法，对图片进行压缩处理，使用webp图片
  2. 预设图片大小，避免图片加载后更新排版信息，造成大量重排
  3. 图片懒加载
  4. 小图片用内嵌，转成base 64
  5. 图标使用iconfont


4. 缓存方面
  1. 离线包

5. 代码层面
  1. 减少dom嵌套
  2. 减少js动画
  3. 避免iframe，table

#### jsBridge的应用和原理

##### js调native

* url scheme，js通过iframe 打开 url scheme地址，Native通过delegate函数捕获
* 安卓上js执行以下方法会，触发webview，1、window.alert => onJSAlert，2、window.confirm => onJSConfirm，3、window.prompt => onJsPrompt，4、window.location => shouldOverrideUrlLoading
* native 注入 API 到window对象，js直接调用

##### native调js

* Native 调用 JavaScript，其实就是执行拼接 JavaScript 字符串，从外部调用 JavaScript 中的方法，因此 JavaScript 的方法必须在全局的 window 上。

## react-native相关

## 遇到的问题

#### 页面间Vuex的存储
由于页面间跳转是打开一个新的webview页面
vuex文件无法在页面间使用，原先是使用app提供的jsBriage方案，存储在App中（但耗时，还需要转成base64）
使用localStorage来存储vue对象，在每次打开新页面时

#### JsBridge注入时机的问题

会出现有的页面渲染完成调用jsBridge方法时，jsBridge方法报错，处于undefined
通过调换js文件的执行顺序，将jsbridge文件置于所有js文件顶部
（用import为什么不行，）

#### IOS上监听scroll实现会出现，滚动完成后才执行方法
原因是UIwebView天生是这样的
使用iscroll模拟滚动，解决此类问题

#### 教练端问题

各业务都有自己的需求，但功能类似，需要统一（如：教练授课场地和教练授课时间功能）
功能分散，没有统筹规划，如首页的海报功能，服务分等，只是为了入口而加入口

#### 使用rem移动端适配

根据设备屏幕宽度和设计稿的比例，计算缩放比例来设置width,height,size等
rem和em的区别 http://www.alloyteam.com/2016/03/mobile-web-adaptation-tool-rem/

## 工具库统一



* le-ui 组件库开发
* 脚手架怎么搭建
* 组件有哪些
* 组件怎么引入，
* 按需引入怎么实现
* dialog和toast的实现方式
* 组件的单位
* 参与组件：radio button progress toast input




## 前端思考

技术广度：

技术深度
是指不停留在会用某个框架或者是某个技术的阶段，应该是能够理解对应框架的实现原理，某些特性是通过什么基本的js特性实现的。
是指能够处理复杂的业务逻辑代码，把复杂的业务逻辑抽象出简单的模型，达到高可复用，高可读，易维护的代码块，而不是一个复杂逻辑实现后，让别人无法接手，只有自己看的懂，甚至自己都看不懂的情况。
是指对某个技术应用和框架层面，能提出建设性意见，能够制定某个技术项的开发规范，避免新人或不熟悉的开发者踩坑，写出低性能的代码

总结：
技术：技术方面缺少什么？面试官看重的是什么？
软实力：自己拿分项是哪些？自己丢分项是哪些？自己面试过程的沟通能力如何？
失败原因：面试失败原因是什么？是由于技术不足？还是其他原因造成自己面试失败？
还可以去思考更多的为什么？

总是调整不好个人的状态比如：

到底是去多看一些基础的内容还是去想一个个人项目去实践。
在平时做业务的过程中跟团队的小伙伴相比会觉的他知道的比我多，又希望去学习他所做的内容，比如小程序，react
到底是应该在乐刻继续留下来还是离开乐刻找一个相对大的公司，工作时间和个人时间应该如何平衡
感觉现在是职业发展比较关键的阶段，希望想清楚之后的职业规划，最后希望发展成什么样
总感觉时间不够用，但是又觉得自己每天啥都没干
在业务开发过程中对于Vue的使用只停留在使用阶段，并没有深入了解其源码和实现原理
