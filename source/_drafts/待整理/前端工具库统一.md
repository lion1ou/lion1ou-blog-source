---
title: 前端工具库统一
toc: true
comments: true
categories: 技术博客
tags: Default
date: 2019-06-16 22:28:12
photos:
description:
---


### 本次会议讨论问题：

1. 需要整理出多少个工具方法（对比优劣和实用程度）
2. 需要拆成几个模块进行开发（如何分工）

### tool

* 测试、正式、UAT环境判断（通过打包方式进行区分，规范打包方式、配置变量和方式，输出文档 @学渊）
* 读取链接参数
* cookie存储、获取
* localStorage存储、获取、删除
* 对象的深度复制
* base64toblob（上传图片）
* 验证身份证
* 验证手机号
* 验证是否是链接、是否是app链接
* 读取APP版本号
* 比较版本号
* 微信授权（自动授权wx-js-sdk）
* 倒计时器
* px转rem,(统一比例)
* 七牛图片参数
* 时间过滤
* 金额数字过滤（支持添加￥$、支持千位加）, 计算精度问题
* 判断容器环境
* 生成随机数、随机字符串
* 颜色转换
* 加密函数
* 解密函数
* 解析获取UTM值
* 在cookie设置UTM值
* 阻止页面滚动

### jsbridge/wx/第三方

* jsbridge注入
* app、微信分享(深度封装)
* 打开二维码扫描
* 打开地图
* 打电话
* 跳转七鱼客服页面()
* 设置标题,设置native标题(html/app)
* 页面跳转、回退
* 回退到首页
* 退出APP
* 登录APP
* 隐藏顶部栏阴影样式
* 设置右上角按钮


### 引用外部组件库

1. dayjs
2. lodash
2. qrcode（二维码生成）
3. clipboard (复制粘贴)
4. swiper
5. fastclick
6. html2canvas
7. better-scroll


## 结论

### 每周三，晚上对进度

### 组件库（小北、nico、鹏飞）

* Tool（0依赖）
* jsbridge/wx/第三方
* load-more
* cans，序列帧，锚点滚动，图片裁剪器库
* 定位（高德、微信、app、钉钉） 
* 网络请求库（封装cookie，封装post、登录态）
* 图片懒加载
* 上传图片至七牛云（封装文件上传，支持图片、文件、视频）,七牛云请求

（学渊、志强、建兵、德忠）

### le-ui优化（先修bug、文档、4.0升级）

1. 选择图片组件（统一选择时的选择栏和loading页面）
2. toast统一
3. base-list（需要支持扩展，前后都可以加自定义样式）
4. date-picker
5. 微信分享提示图（指定传入图片尺寸）
6. 头像组件（支持加角标和click）
7. le-popup 背景动画优化，（z-index传参）
8. le-ui样式覆盖问题


## 下次开会主要讨论：

1. 未来共有项目需要怎样的流程进行协同和管理
2. 


1. 讨论le-ui的文档是怎么搭建的


## 前端组件库：

* 打包方式，支持AMD/CMD，script形式引入
* 组件类型
* 组件CSS作用域问题
* 按需引入，分模块打包
* 图标问题
* 主题定制问题
* 组件库样式基础，通用样式
* reset / normalize
* hairline
* animation
* util / mixins
* clearfix

VUX picker： https://doc.vux.li/zh-CN/components/picker.html
muse picker: https://muse-ui.org/#/zh-CN/slide-picker